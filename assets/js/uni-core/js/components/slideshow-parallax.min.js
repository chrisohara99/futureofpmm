/*! UniCore 3.15.20 | https://unistudio.co | (c) 2023 - 2023 UniStudio | MIT License */
/*! UniCore 3.15.20 | https://unistudio.co | (c) 2023 - 2023 UniStudio | MIT License */!function(t,e){"object"==typeof exports&&typeof module<"u"?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslideshow_parallax",["uikit-util"],e):(t=typeof globalThis<"u"?globalThis:t||self).UniCoreSlideshow_parallax=e(t.UniCore.util)}(this,(function(t){"use strict";var e={props:{media:Boolean,mediaMax:Boolean},data:{media:!1,mediaMax:!1},connected(){const e=n(this.media,this.$el),i=n(this.mediaMax,this.$el,"max");if(this.matchMedia=!0,e||i){const n=e?i?e+" and "+i:e:i;this.mediaObj=window.matchMedia(n);const o=()=>{this.matchMedia=this.mediaObj.matches,t.trigger(this.$el,t.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=t.on(this.mediaObj,"change",(()=>{o(),this.$emit("resize")})),o()}},disconnected(){var t;null==(t=this.offMediaObj)||t.call(this)}};function n(e,n,i="min"){if(t.isString(e))if(t.startsWith(e,"@"))e=t.toFloat(t.css(n,`--uc-breakpoint-${e.substr(1)}`));else if(isNaN(e))return e;return e&&t.isNumeric(e)?`(${i}-width: ${e}px)`:""}t.memoize((async e=>e?t.startsWith(e,"data:")?decodeURIComponent(e.split(",")[1]):(await fetch(e)).text():Promise.reject()));const i={x:r,y:r,rotate:r,scale:r,color:a,backgroundColor:a,borderColor:a,blur:c,hue:c,fopacity:c,grayscale:c,invert:c,saturate:c,sepia:c,opacity:function(t,e,n){return 1===n.length&&n.unshift($(e,t,"")),n=m(n),(e,i)=>{e[t]=g(n,i)}},stroke:function(e,n,i){1===i.length&&i.unshift(0);const o=x(i),s=function(e){return Math.ceil(Math.max(0,...t.$$("[stroke]",e).map((t=>{try{return t.getTotalLength()}catch{return 0}}))))}(n);return(i=m(i.reverse(),(e=>(e=t.toFloat(e),"%"===o?e*s/100:e)))).some((([t])=>t))?(t.css(n,"strokeDasharray",s),(t,e)=>{t.strokeDashoffset=g(i,e)}):t.noop},bgx:l,bgy:l},{keys:o}=Object;var s={mixins:[e],props:y(o(i),"list"),data:y(o(i),void 0),computed:{props(e,n){const o={};for(const n in e)n in i&&!t.isUndefined(e[n])&&(o[n]=e[n].slice());const s={};for(const t in o)s[t]=i[t](t,n,o[t],o);return s}},events:{load(){this.$emit()}},methods:{reset(){for(const e in this.getCss(0))t.css(this.$el,e,"")},getCss(t){const e={transform:"",filter:""};for(const n in this.props)this.props[n](e,t);return e.willChange=Object.keys(e).filter((t=>""!==e[t])).join(","),e}}};function r(e,n,i){let o,s=x(i)||{x:"px",y:"px",rotate:"deg"}[e]||"";return"x"===e||"y"===e?(e=`translate${t.ucfirst(e)}`,o=e=>t.toFloat(t.toFloat(e).toFixed("px"===s?0:6))):"scale"===e&&(s="",o=e=>x([e])?t.toPx(e,"width",n,!0)/n.offsetWidth:e),1===i.length&&i.unshift("scale"===e?1:0),i=m(i,o),(t,n)=>{t.transform+=` ${e}(${g(i,n)}${s})`}}function a(e,n,i){return 1===i.length&&i.unshift($(n,e,"")),i=m(i,(e=>function(e,n){return $(e,"color",n).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}(n,e))),(n,o)=>{const[s,r,a]=p(i,o),c=s.map(((e,n)=>(e+=a*(r[n]-e),3===n?t.toFloat(e):parseInt(e,10)))).join(",");n[e]=`rgba(${c})`}}function c(t,e,n){1===n.length&&n.unshift(0);const i=x(n)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,n=m(n),(e,o)=>{const s=g(n,o);e.filter+=` ${t}(${s+i})`}}function l(e,n,i,o){1===i.length&&i.unshift(0);const s="bgy"===e?"height":"width";o[e]=m(i,(e=>t.toPx(e,s,n)));const r=["bgx","bgy"].filter((t=>t in o));if(2===r.length&&"bgx"===e)return t.noop;if("cover"===$(n,"backgroundSize",""))return function(e,n,i,o){const s=function(e){const n=t.css(e,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(f[n])return f[n];const i=new Image;return n&&(i.src=n,!i.naturalWidth)?(i.onload=()=>{f[n]=d(i),t.trigger(e,t.createEvent("load",!1))},d(i)):f[n]=d(i)}(n);if(!s.width)return t.noop;const r={width:n.offsetWidth,height:n.offsetHeight},a=["bgx","bgy"].filter((t=>t in o)),c={};for(const t of a){const e=o[t].map((([t])=>t)),n=Math.min(...e),i=Math.max(...e),s=e.indexOf(n)<e.indexOf(i),a=i-n;c[t]=(s?-a:0)-(s?n:i)+"px",r["bgy"===t?"height":"width"]+=a}const l=t.Dimensions.cover(s,r);for(const t of a){const e="bgy"===t?"height":"width",i=l[e]-r[e];c[t]=`max(${u(n,t)},-${i}px) + ${c[t]}`}const m=h(a,c,o);return(t,e)=>{m(t,e),t.backgroundSize=`${l.width}px ${l.height}px`,t.backgroundRepeat="no-repeat"}}(0,n,0,o);const a={};for(const t of r)a[t]=u(n,t);return h(r,a,o)}function u(t,e){return $(t,`background-position-${e.substr(-1)}`,"")}function h(t,e,n){return function(i,o){for(const s of t){const t=g(n[s],o);i[`background-position-${s.substr(-1)}`]=`calc(${e[s]} + ${t}px)`}}}const f={};function d(t){return{width:t.naturalWidth,height:t.naturalHeight}}function m(e,n=t.toFloat){const i=[],{length:o}=e;let s=0;for(let r=0;r<o;r++){let[a,c]=t.isString(e[r])?e[r].trim().split(" "):[e[r]];if(a=n(a),c=c?t.toFloat(c)/100:null,0===r?null===c?c=0:c&&i.push([a,0]):r===o-1&&(null===c?c=1:1!==c&&(i.push([a,c]),c=1)),i.push([a,c]),null===c)s++;else if(s){const t=i[r-s-1][1],e=(c-t)/(s+1);for(let n=s;n>0;n--)i[r-n][1]=t+e*(s-n+1);s=0}}return i}function p(e,n){const i=t.findIndex(e.slice(1),(([,t])=>n<=t))+1;return[e[i-1][0],e[i][0],(n-e[i-1][1])/(e[i][1]-e[i-1][1])]}function g(e,n){const[i,o,s]=p(e,n);return t.isNumber(i)?i+Math.abs(i-o)*s*(i<o?1:-1):+o}const b=/^-?\d+(\S+)?/;function x(t,e){for(const e of t){const t=null==e.match?void 0:e.match(b);if(t)return t[1]}return e}function $(e,n,i){const o=e.style[n],s=t.css(t.css(e,n,i),n);return e.style[n]=o,s}function y(t,e){return t.reduce(((t,n)=>(t[n]=e,t)),{})}var w={mixins:[s],data:{selItem:"!li"},beforeConnect(){this.item=t.query(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler({type:e,detail:{percent:n,duration:i,timing:o,dir:s}}){t.fastdom.read((()=>{if(!this.matchMedia)return;const r=this.getCss(v(e,s,n)),a=this.getCss(k(e)?.5:s>0?1:0);t.fastdom.write((()=>{t.css(this.$el,r),t.Transition.start(this.$el,a,i,o).catch(t.noop)}))}))}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){t.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler({type:e,detail:{percent:n,dir:i}}){t.fastdom.read((()=>{if(!this.matchMedia)return void this.reset();const o=this.getCss(v(e,i,n));t.fastdom.write((()=>t.css(this.$el,o)))}))}}]};function k(e){return t.endsWith(e,"in")}function v(t,e,n){return n/=2,k(t)^e<0?n:1-n}return typeof window<"u"&&window.UniCore&&window.UniCore.component("slideshowParallax",w),w}));